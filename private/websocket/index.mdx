---
sidebarTitle: Overview
title: Private WebSocket API
---

<CardGroup cols={2}>
  <Card
    title="Authorize"
    href="/private/websocket/authorize"
  />
  <Card
    title="Balance Spot"
    href="/private/websocket/balance-spot"
  />
  <Card
    title="Balance Margin"
    href="/private/websocket/balance-margin"
  />
  <Card
    title="Orders Pending"
    href="/private/websocket/orders-pending"
  />
  <Card
    title="Orders Executed"
    href="/private/websocket/orders-executed"
  />
  <Card
    title="Deals"
    href="/private/websocket/deals"
  />
  <Card
    title="Positions"
    href="/private/websocket/positions"
  />
  <Card
    title="Margin Positions Events"
    href="/private/websocket/margin-positions-events"
  />
  <Card
    title="Borrows"
    href="/private/websocket/borrows"
  />
  <Card
    title="Borrows Events"
    href="/private/websocket/borrows-events"
  />
</CardGroup>

## WebSocket Connection Management

WebSocket endpoint is **```wss://api.whitebit.com/ws```**

The API is based on [JSON RPC](https://www.jsonrpc.org/specification) of WebSocket protocol.

‚ö†Ô∏èÔ∏è **Connection Timeout** ‚ö†Ô∏èÔ∏è
- Server closes websocket connection after **60 seconds of inactivity**
- Inactivity is defined as no messages sent by the client

### Maintaining Connection
To keep the websocket connection active:
- Send periodic ping messages every **50 seconds**
- Handle potential connection closures gracefully in your application logic

### Example Implementation

```javascript
// Establish websocket connection
const socket = new WebSocket("wss://api.whitebit.com/ws");

// Set up periodic ping
setInterval(() => {
  if (socket.readyState === WebSocket.OPEN) {
    socket.send(JSON.stringify({
            id: 0,
            method: "ping",
            params: [],
        }));
  }
}, 50000); // Every 50 seconds
```

<Warning>
  Rate limit 1000 ws connections per minute and 200 requests per minute in one connection.
</Warning>



**All endpoints return time in Unix-time format.**

## Order types

| Order type ID | Description                            |
| ------------- | -------------------------------------- |
| 1             | Limit                                  |
| 2             | Market                                 |
| 202           | Market [stock](/glossary#stock) |
| 3             | Stop limit                             |
| 4             | Stop market                            |
| 7             | Margin limit                           |
| 8             | Margin market                          |
| 9             | Margin stop limit                      |
| 10            | Margin trigger-stop market             |
| 14            | Margin normalization                   |

## ‚§¥Ô∏è Request message

JSON Structure of request message:

- `id` - **Integer**. Should be unique to handle response for your request.
- `method` - **String**. Name of request.
- `params` - **Array**. Here you pass params for method.

üö´ WebSocket connection will be closed if invalid JSON was sent.

### Types of request messages

- Query (`balanceSpot_request`, `ordersPending_request`, etc)
- Subscription (`balanceSpot_subscribe`, `ordersPending_subscribe`, etc). Repeated subscription will be cancelled for the same data type.

## ‚§µÔ∏è Response message

JSON Structure of response message:

- `id` - **Integer**. Request ID.
- `result` - **Null** for failure, for success - look for responses below
- `error` - **Null** for success, **JSON Object** for failure:
  - `message` - Detailed text
  - `code` - Error code

| Code  | Message             |
| ----- | ------------------- |
| **1** | invalid argument    |
| **2** | internal error      |
| **3** | service unavailable |
| **4** | method not found    |
| **5** | service timeout     |

## Types of response messages

- Query result
- Subscription status (success/failed)
- Update events

---

## Examples

**Example** messages for request with response:

#### ‚§¥Ô∏è Request:

```json
{
  "id": 0,
  "method": "authorize",
  "params": ["<get_your_token_via_api>", ""]
}
```

#### ‚§µÔ∏è Response:

```json
{
  "id": 0,
  "result": {
    "status": "success"
  },
  "error": null
}
```

**Example** subscription:

#### ‚§¥Ô∏è Request:

```json
{
  "id": 0,
  "method": "balanceSpot_subscribe",
  "params": []
}
```

#### ‚§µÔ∏è Response:

```json
{
  "id": 0,
  "result": {
    "status": "success"
  },
  "error": null
}
```

#### üîÑ Update events:

```json
{
  "id": null,
  "method": "balanceSpot_update",
  "params": [] // look below for params
}
```
